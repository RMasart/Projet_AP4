{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}

<style>
.article {
    display: flex;
    align-items: center;
    background: #ffffff;
    padding: 10px;
    border-radius: 10px;
    margin: 5px 0;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
}

.article-info {
    display: flex;
    flex-direction: column;
    margin-left: 10px;
}

.nom-produit {
    font-weight: bold;
    font-size: 16px;
}

.en-stock {
    color: green;
}

.indisponible {
    color: red;
}
</style>

<div class="articles">
    {% for produit in produits %}
        <div class="article">
            <input type="checkbox" name="produits[]" value="{{ produit.prix }}" {% if not produit.disponible %}disabled{% endif %}>
            <div class="article-info">
                <span class="nom-produit">{{ produit.nom }}</span>
                <span class="{% if produit.disponible %}en-stock{% else %}indisponible{% endif %}">
                    {{ produit.disponible ? 'En stock' : 'Indisponible' }}
                </span>
                <span class="quantite">
                    <input type="number" value="0" min="0" data-article-id="{{ produit.id }}">
                </span>
            </div>
        </div>
    {% endfor %}
</div>

<div class="total" style="margin-top: 20px;">
    <p>Nombre d'articles : <span id="nombre-articles">0</span></p>
    <p>Total : <span id="total">0</span> â‚¬</p>
</div>

<div style="text-align: center; margin-top: 20px;">
    <a href="{{ path('app_confirmation_panier') }}" class="btn btn-success">PAYER</a>
</div>

<script src="{{ asset('js/script.js') }}"></script>

{% endblock %}